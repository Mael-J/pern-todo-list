{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/maelj/Documents/programmation/Web/pern-todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/maelj/Documents/programmation/Web/pern-todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/maelj/Documents/programmation/Web/pern-todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Fragment,useState}from\"react\";var EditTodo=function EditTodo(_ref){var todo=_ref.todo;console.log(todo);var _useState=useState(todo.description),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];//edit description function\nvar updateDescription=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var body,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={description:description};_context.next=5;return fetch(\"http://localhost:5000/todos/\".concat(todo.todo_id),{method:'PUT',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 5:response=_context.sent;console.log(response);window.location='/';_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function updateDescription(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-warning\",\"data-toggle\":\"modal\",\"data-target\":\"#id\".concat(todo.todo_id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"div\",{class:\"modal\",id:\"id\".concat(todo.todo_id),children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"modal-title\",children:\"Edit Todo\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDescription(todo.description);},children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-warning\",\"data-dismiss\":\"modal\",onClick:function onClick(e){return updateDescription(e);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDescription(todo.description);},children:\"Close\"})]})]})})})]});};export default EditTodo;","map":{"version":3,"sources":["C:/Users/maelj/Documents/programmation/Web/pern-todo/client/src/components/EditTodo.js"],"names":["React","Fragment","useState","EditTodo","todo","console","log","description","setDescription","updateDescription","e","preventDefault","body","fetch","todo_id","method","headers","JSON","stringify","response","window","location","error","message","target","value"],"mappings":"2mBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,QAAzB,KAAwC,OAAxC,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAY,IAAVC,CAAAA,IAAU,MAAVA,IAAU,CACzBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EADyB,cAEaF,QAAQ,CAACE,IAAI,CAACG,WAAN,CAFrB,wCAElBA,WAFkB,eAELC,cAFK,eAI7B;AACA,GAAMC,CAAAA,iBAAiB,2FAAG,iBAAOC,CAAP,oIACtBA,CAAC,CAACC,cAAF,GADsB,gBAGhBC,IAHgB,CAGT,CAAEL,WAAW,CAAXA,WAAF,CAHS,uBAICM,CAAAA,KAAK,uCAAgCT,IAAI,CAACU,OAArC,EAC3B,CAACC,MAAM,CAAE,KAAT,CACDC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CADR,CAEDJ,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFL,CAD2B,CAJN,QAIhBO,QAJgB,eAStBd,OAAO,CAACC,GAAR,CAAYa,QAAZ,EACAC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CAVsB,iFAYtBhB,OAAO,CAACiB,KAAR,CAAc,YAAMC,OAApB,EAZsB,qEAAH,kBAAjBd,CAAAA,iBAAiB,6CAAvB,CAiBI,mBACI,MAAC,QAAD,yBAER,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,iBAA5B,CAA8C,cAAY,OAA1D,CAAkE,2BAAmBL,IAAI,CAACU,OAAxB,CAAlE,kBAFQ,cAOR,YAAK,KAAK,CAAC,OAAX,CAAmB,EAAE,aAAOV,IAAI,CAACU,OAAZ,CAArB,uBACE,YAAK,KAAK,CAAC,cAAX,uBACE,aAAK,KAAK,CAAC,eAAX,wBAGE,aAAK,KAAK,CAAC,cAAX,wBACE,WAAI,KAAK,CAAC,aAAV,uBADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,OAA5B,CAAoC,eAAa,OAAjD,CAAyD,OAAO,CAAI,yBAAKN,CAAAA,cAAc,CAACJ,IAAI,CAACG,WAAN,CAAnB,EAApE,kBAFF,GAHF,cAQE,YAAK,KAAK,CAAC,YAAX,uBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAG,cAA/B,CAA8C,KAAK,CAAIA,WAAvD,CAAoE,QAAQ,CAAI,kBAAAG,CAAC,QAAIF,CAAAA,cAAc,CAACE,CAAC,CAACc,MAAF,CAASC,KAAV,CAAlB,EAAjF,EADF,EARF,cAaE,aAAK,KAAK,CAAC,cAAX,wBACA,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,iBAA5B,CAA8C,eAAa,OAA3D,CAAmE,OAAO,CAAI,iBAAAf,CAAC,QAAID,CAAAA,iBAAiB,CAACC,CAAD,CAArB,EAA/E,kBADA,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,gBAA5B,CAA6C,eAAa,OAA1D,CAAkE,OAAO,CAAI,yBAAKF,CAAAA,cAAc,CAACJ,IAAI,CAACG,WAAN,CAAnB,EAA7E,mBAFF,GAbF,GADF,EADF,EAPQ,GADJ,CAmCH,CAzDD,CA2DA,cAAeJ,CAAAA,QAAf","sourcesContent":["import React, {Fragment, useState} from \"react\";\r\n\r\nconst EditTodo = ({todo}) => {\r\n    console.log(todo);\r\n    const [description, setDescription] = useState(todo.description)\r\n\r\n//edit description function\r\nconst updateDescription = async (e) => {\r\n    e.preventDefault();\r\ntry {\r\n    const body = { description};\r\n    const response = await fetch(`http://localhost:5000/todos/${todo.todo_id}`,\r\n     {method: 'PUT',\r\n    headers: {\"Content-Type\": \"application/json\"},\r\n    body: JSON.stringify(body)\r\n});\r\n    console.log(response);\r\n    window.location = '/';\r\n} catch (error) {\r\n    console.error(error.message);\r\n    \r\n}\r\n}\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n<button type=\"button\" class=\"btn btn-warning\" data-toggle=\"modal\" data-target={`#id${todo.todo_id}`}>\r\n  Edit\r\n</button>\r\n\r\n\r\n<div class=\"modal\" id={`id${todo.todo_id}`}>\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n\r\n\r\n      <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\">Edit Todo</h4>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" onClick = {()=> setDescription(todo.description)}>&times;</button>\r\n      </div>\r\n\r\n      <div class=\"modal-body\">\r\n        <input type=\"text\" className = \"form-control\" value = {description} onChange = {e => setDescription(e.target.value)}/>\r\n      </div>\r\n\r\n\r\n      <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\" onClick = {e => updateDescription(e)}>Edit</button>\r\n        <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\" onClick = {()=> setDescription(todo.description)}>Close</button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport default EditTodo;"]},"metadata":{},"sourceType":"module"}