{"version":3,"sources":["components/InputTodo.js","components/EditTodo.js","components/ListTodos.js","App.js","index.js"],"names":["InputTodo","useState","description","setDescription","onSubmitForm","e","a","preventDefault","body","fetch","method","headers","JSON","stringify","response","console","log","window","location","error","message","className","onSubmit","type","value","onChange","target","EditTodo","todo","updateDescription","todo_id","class","data-toggle","data-target","id","data-dismiss","onClick","ListTodos","todos","setTodos","deleteTodo","filter","getTodos","json","jsonData","useEffect","map","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.038eca45.chunk.js","sourcesContent":["import React, {Fragment, useState} from \"react\";\r\n\r\nconst InputTodo = () => {\r\n\r\nconst [description, setDescription] = useState(\"hello\");\r\n\r\nconst onSubmitForm = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n        const body = {description};\r\n        const response = await fetch(\"http://localhost:5000/todos\", {\r\n            method: 'POST',\r\n            headers: {\"Content-type\": \"application/json\"},\r\n            body: JSON.stringify(body)\r\n        });\r\n        console.log(response);\r\n        window.location = \"/\"\r\n    } catch (error) {\r\n        console.error(error.message)\r\n    }\r\n}\r\n\r\n    return (\r\n    <Fragment>\r\n        <h1 className=\"text-center mt-5\">Pern Todo List</h1>\r\n        <form className =\"d-flex mt-5\" onSubmit={onSubmitForm}>\r\n            <input type =\"text\" className=\"form-control\" value={description} onChange = {e => setDescription(e.target.value)}/>\r\n            <button className=\"btn btn-success\">Add</button>\r\n        </form>\r\n        </Fragment>\r\n        );\r\n};\r\n\r\nexport default InputTodo;","import React, {Fragment, useState} from \"react\";\r\n\r\nconst EditTodo = ({todo}) => {\r\n    console.log(todo);\r\n    const [description, setDescription] = useState(todo.description)\r\n\r\n//edit description function\r\nconst updateDescription = async (e) => {\r\n    e.preventDefault();\r\ntry {\r\n    const body = { description};\r\n    const response = await fetch(`http://localhost:5000/todos/${todo.todo_id}`,\r\n     {method: 'PUT',\r\n    headers: {\"Content-Type\": \"application/json\"},\r\n    body: JSON.stringify(body)\r\n});\r\n    console.log(response);\r\n    window.location = '/';\r\n} catch (error) {\r\n    console.error(error.message);\r\n    \r\n}\r\n}\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n<button type=\"button\" class=\"btn btn-warning\" data-toggle=\"modal\" data-target={`#id${todo.todo_id}`}>\r\n  Edit\r\n</button>\r\n\r\n\r\n<div class=\"modal\" id={`id${todo.todo_id}`}>\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n\r\n\r\n      <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\">Edit Todo</h4>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" onClick = {()=> setDescription(todo.description)}>&times;</button>\r\n      </div>\r\n\r\n      <div class=\"modal-body\">\r\n        <input type=\"text\" className = \"form-control\" value = {description} onChange = {e => setDescription(e.target.value)}/>\r\n      </div>\r\n\r\n\r\n      <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\" onClick = {e => updateDescription(e)}>Edit</button>\r\n        <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\" onClick = {()=> setDescription(todo.description)}>Close</button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport default EditTodo;","import React, {Fragment, useEffect, useState} from \"react\";\r\n\r\nimport EditTodo from './EditTodo';\r\n\r\n\r\nconst ListTodos = () => {\r\n\r\n    const [todos, setTodos] = useState([]);\r\n\r\n//delete todo fonction\r\nconst deleteTodo = async (id) => {\r\n    try {\r\n        const deleteTodo = await fetch(`http://localhost:5000/todos/${id}`,\r\n        {method: \"DELETE\"});\r\n        console.log(deleteTodo);\r\n        setTodos(todos.filter(todo => todo.todo_id !== id));\r\n    } catch (error) {\r\n        console.error(error.message);\r\n        \r\n    }\r\n}\r\n\r\n\r\n    const getTodos = async () => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:5000/todos\");\r\n            const jsonData = await response.json();\r\n            //console.log(jsonData);\r\n            setTodos(jsonData);\r\n        } catch (error) {\r\n            console.error(error.message);\r\n            \r\n        }\r\n    }\r\n    useEffect(()=> {\r\n        getTodos();\r\n        \r\n    },[]);\r\n    console.log(todos)\r\n    return (\r\n        <Fragment>\r\n            <table class=\"table mt-5 text-center\">\r\n    <thead>\r\n      <tr>\r\n        <th>Description</th>\r\n        <th>Edit</th>\r\n        <th>Delete</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n        {/*       <tr>\r\n        <td>John</td>\r\n        <td>Doe</td>\r\n        <td>john@example.com</td>\r\n      </tr>*/}\r\n        {todos.map(todo => (\r\n            <tr key = {todo.todo_id}>\r\n                <td>{todo.description}</td>\r\n                <td><EditTodo todo = {todo}/></td>\r\n                <td><button className = \"btn btn-danger\" onClick = {() => deleteTodo(todo.todo_id)}>Delete</button></td>\r\n            </tr>\r\n        ))}\r\n    </tbody>\r\n  </table>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport default ListTodos;","import React, { Fragment } from 'react';\nimport './App.css';\n\n\n// Components\nimport InputTodo from './components/InputTodo';\nimport ListTodos from './components/ListTodos';\nfunction App() {\n  return <Fragment>\n    <div className=\"container\">\n    <InputTodo/>\n    <ListTodos/>\n    </div>\n    \n  </Fragment>;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}